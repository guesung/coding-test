# 1. 문제 파악

- 문제의 요점 : w * h의 직사각형이 존재할 때, 양쪽 대각선을 이을 때 지나가지 않는 1 * 1사이즈의 정사각형의 개수를 구하라

# 2. 내 풀이

> 시간복잡도 : `O(N)` (N = w, N은 최대 1억)
> 

```tsx
function solution(w, h) {
    let cnt = 0;
    for(let i=0;i<w;i++){
        const leftSideY = i * h / w;
        const rightSideY = (i+1) * h / w;
        cnt += (Math.ceil(rightSideY) - Math.floor(leftSideY))
    }
    return h * w - cnt;
}
```

## 풀이 방법

1. 문제를 생각할 때, 대각선을 문제에서는 우하향 그래프로 주어졌지만, 편한 계산을 위해 우상향 그래프로 생각을하였다.
    - 이에 따라, 대각선 비율인 `ratio = h / w`이다.
2. x좌표를 하나식 더해가며, 대각선이 몇 개의 칸을 지나는지 계산할 것이다.
    
    ```jsx
    for(let i=0;i<w;i++){
    	// ..
    }
    ```
    
3. 대각선의 x좌표와, x+1좌표에서의 y값을 구해준다.
    
    ```jsx
    const leftSideY = i * ratio;
    const rightSideY = (i+1) * ratio;
    ```
    
    x+1에서의 y좌표는 올림, x에서의 y좌표는 내림을 한다.
    
    이는 그림을 그려보면 더 쉽게 이해할 수 있는데, x+1에서의 y좌표는 대각선이 지나는 선 아래에 있어야 하고, x에서의 y좌표는 대각선이 지나가는 선 위에 있어야 하기 대문이다.
    
4. 총 개수를 더해주고, 전체 정사각형의 너비 w*h에서 해당 값을 뺀다.

### 실수

1. 처음에는 주어진 문제 케이스만 생각을 해서, x와 x+1 각가에서 y좌표가 1차이 미만이라고 생각을 했다. 그래서 테스트 코드는 정답이었지만, 그 외의 케이스는 모두 오답으로 출력이 되었다.
    
    > TODO : 문제를 풀기에 앞서, 다양한 경우를 생각해보자.
    > 
2. JS에서 나눗셈은 정확하지 않는다고 한다. h/w는 값이 계속 일정하므로 미리 구해놓고 계산했는데 테스크케이스 6번에서만 에러가 났다. 미리 h/w를 구해놓지 않고, 곱셈을 먼저 하고, 이 나눗셈을 하니 해결이 되었다.

# 다른 사람 풀이

```jsx
function solution(w,h){
    const slope = h / w;
    let result = 0;

    for(let i = 1; i <= w; i++){
        result += Math.ceil(slope * i);
    }

    return ((h * w) - result) * 2;
}
```

조금 다르게 생각한 풀이이다. 위에서 내가 한 풀이는, 한 x좌표당 선과 곂친 점의 개수를 구한 풀이라면 이 풀이는 곂친 점 아래에 있는 모든 점들의 개수를 구한 것이다. 그 결과가 result이다. 그리고, 전체 정사각형의 개수에서 result를 뺀다. 그럼, 선을 지나지 않은, 아랫 부분이 구해진다. 이 값의 두 배를 취한다.

이 경우가 가능한 이유는, 선을 기준으로 대칭이기 땐문이다. 구하고자 하는 결과는, 선을 기준으로 대칭이기 때문이다.

# 배운 점

1. JS에서 나눗셈은 정확하지 않는다고 한다. 특정 케이스에서만 에러가 발생한다면, 곱셈을 먼저 하고 마지막에 나눗셈을 해보자.